---
title: tanx的泰勒展开系数递归求解
categories: math
tags: ideas
---

本来想至少周更的。。。有点难。。。众所周知，$tanx$的麦克劳林展开系数中居然出现了伯努利数。。。而伯努利数实际上是需要递归计算的。。。那么，问题就来了，假设直接的通项公式无望，能不能直接递归系数而不是递归伯努利数呢

---

方案一：

递归求解级数的系数->建立级数系数**之间**的关系->考虑积分与微分！

而一件有趣的事是$(tanx)'=sec^2x=1+tan^2x$

嗯？

嗯！

那么$tanx$的麦克劳林展开式其实就是微分方程$f'(x)=f^2(x)+1$的级数解了嘛

这就简单了，稍微划一下式子即可得

$\displaystyle (n+1)a_{n+1}=[n=0]+\sum_{i=0}^{n}a_ia_{n-i}$

其中$[P]$表示当$P$为真时取1，为假时取0，且$a_0=tanx_0$

为计算方便可取$x_0$为0或$\pi/4$

这就是对系数的直接递归啦

---

方案二（由朋友提供）：

都是要考虑$tanx$的特殊性质，想办法将级数带进去求解

考虑到$\displaystyle tanx=\frac{2tan\frac{x}{2}}{1-tan^2\frac{x}{2}}=\frac{1}{1-tan\frac{x}{2}}-\frac{1}{1+tan\frac{x}{2}}$

所以按照多项式的麦克劳林展开$\displaystyle \frac{1}{1-x}=\sum x^i$

然后就比较麻烦了。。。

但是这样算的话貌似可以利用倍增

---

方案三（UPD）：

昨晚（今天凌晨）躺在床上睡不着。。。不知道为什么突然就想到这个东西。。。

我们知道$\displaystyle arctanx=\sum_{i=0}^{+\infty}{\frac{(-1)^i}{2i+1}x^{2i+1}}$

（利用$\displaystyle (arctanx)'=\frac{1}{1+x^2}=\sum_{i=0}^{+\infty}{(-1)^ix^{2i}}$即可）

所以利用$tan(arctanx)=x$貌似也可以划出来一个递推式

